
@model WorkRequest

<div class="media text-muted pt-3">
    <svg class="bd-placeholder-img mr-2 rounded" width="8" height="64"
         preserveAspectRatio="xMidYMid slice" role="img" focusable="false" >
        <title>@(nameof(Model.CurentStatus))</title>
        <rect width="100%" height="100%" status-code="@Model.CurentStatus" fill-or-color="fill"></rect>
        <text x="50%" y="50%" status-code="@Model.CurentStatus" fill-or-color="fill" dy=".3em">32x32</text>
    </svg>

    <div class="media-body pb-3 mb-0 small lh-125 border-bottom border-gray">
        <div class="d-flex justify-content-between align-items-center w-100">
            <strong class="text-gray-dark">@((Statuses)Model.CurentStatus)</strong>
            <div>
                <form id="accept-form" asp-action="AcceptRequest" method="post">
                    <input type="hidden" name="acceptedRequestId" value="@Model.Id" />
                    @*<a asp-action="AddOrUpdate" asp-route-editWorkRequestId="@Model.Id"
            class="btn btn-sm btn-outline-warning @(Model.CurentStatus != Statuses.Created ? "disabled" : "")"> Edit </a>*@
                    <button type="submit" class="btn btn-sm btn-outline-primary
                            @(Model.CurentStatus == Statuses.Created ? "" : "d-none") ">
                        Accept
                    </button>
                </form>

                <form id="done-form"  asp-action="DoneWorkRequest" method="post">
                    <input type="hidden" name="doneWorkRequestId" value="@Model.Id" />
                    <button type="submit" class="btn btn-sm btn-outline-success
                            @(Model.CurentStatus == Statuses.InProgress ? "" : "d-none") ">
                        Done
                    </button>
                </form>

                <form id="delete-form"  asp-action="DeleteWorkRequest" method="post">
                    <input type="hidden" name="deletedWorkRequestId" value="@Model.Id" />
                    <button type="submit" class="btn btn-sm btn-outline-danger">
                        Delete
                    </button>
                </form>

            </div>
        </div>
        <span class="d-block">
            <p class="media-body pb-3 mb-0 lh-125 "> @Model.RequestMessage</p>
        </span>
    </div>
</div>